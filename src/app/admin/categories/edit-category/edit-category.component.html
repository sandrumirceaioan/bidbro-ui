<ion-card color="light" class="page-header">
    <ion-card-header>
        <ion-toolbar color="none">
            <ion-title>
                <h3>{{title}}</h3>
            </ion-title>
            <ion-buttons slot="end">
                <ion-fab-button color="primary" size="small" [routerLink]="'admin/categories'">
                    <ion-icon color="tertiary" name="chevron-back"></ion-icon>
                </ion-fab-button>
            </ion-buttons>
        </ion-toolbar>
    </ion-card-header>
</ion-card>

<ion-grid class="page-content">
    <form [formGroup]="categoryForm" (ngSubmit)="saveCategory()">
        <ion-row>
            <ion-col size="12" size-md="6">
                <ion-card class="form-card" color="light">
                    <ion-card-header>
                        <ion-title color="dark">Details</ion-title>
                    </ion-card-header>
                    <ion-card-content>
                        <ion-row>
                            <ion-col size="12" size-md="6" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Name</ion-label>
                                    <ion-input type="text" type="text" name="name" formControlName="name">
                                    </ion-input>
                                </ion-item>

                            </ion-col>
                            <ion-col size="12" size-md="6" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Url</ion-label>
                                    <ion-input type="text" name="url" formControlName="url"></ion-input>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size="12" size-md="6" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Summary</ion-label>
                                    <ion-textarea rows="5" type="text" name="summary" formControlName="summary">
                                    </ion-textarea>
                                </ion-item>

                            </ion-col>
                            <ion-col size="12" size-md="6" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Description</ion-label>
                                    <ion-textarea rows="5" name="description" formControlName="description">
                                    </ion-textarea>
                                </ion-item>
                            </ion-col>
                        </ion-row>
                    </ion-card-content>
                </ion-card>

                <ion-card class="form-card" color="light">
                    <ion-card-header>
                        <ion-title color="dark">Status</ion-title>
                    </ion-card-header>
                    <ion-card-content>
                        <ion-row>
                            <ion-col size="12" size-md="12" class="ion-padding">
                                <ion-radio-group [value]="getInitialStatus()" (ionChange)="selectStatus($event)">
                                    <ion-row>
                                        <ion-col size="6">
                                            <ion-item lines="full">
                                                <ion-label>Active</ion-label>
                                                <ion-radio slot="start" [value]="true" formContolName="status"
                                                    color="success"></ion-radio>
                                            </ion-item>
                                        </ion-col>
                                        <ion-col size="6">
                                            <ion-item lines="full">
                                                <ion-label>Inactive</ion-label>
                                                <ion-radio slot="start" [value]="false" formContolName="status"
                                                    color="danger"></ion-radio>
                                            </ion-item>
                                        </ion-col>
                                    </ion-row>
                                </ion-radio-group>
                            </ion-col>
                        </ion-row>
                    </ion-card-content>
                </ion-card>

                <ion-card class="form-card" color="light">
                    <ion-card-header>
                        <ion-title color="dark">Categories</ion-title>
                    </ion-card-header>
                    <ion-card-content>

                        <ion-row>
                            <ion-col size="12" size-md="5" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Parent ID</ion-label>
                                    <ion-input type="text" name="parent" formControlName="parent"></ion-input>
                                </ion-item>
                            </ion-col>
                            <ion-col size="12" size-md="2">
                                <ion-button class="ion-padding-vertical" fill="clear" expand="full"
                                    (click)="getParent()">
                                    <ion-icon name="swap-horizontal" slot="icon-only"></ion-icon>
                                </ion-button>
                            </ion-col>
                            <ion-col size="12" size-md="5" class="ion-padding">
                                <ion-item lines="full">
                                    <ion-label position="floating">Parent Name</ion-label>
                                    <ion-input type="text" name="parent" formControlName="parentName"></ion-input>
                                </ion-item>
                            </ion-col>
                        </ion-row>

                    </ion-card-content>
                </ion-card>
            </ion-col>
            <ion-col size="12" size-md="6">
                <ion-card class="form-card" color="light">
                    <ion-card-header>
                        <ion-title color="dark">Images</ion-title>
                    </ion-card-header>
                    <ion-card-content>

                        <ion-row>
                            <ion-col size="10" size-md="11">
                                <ion-item lines="full">
                                    <ion-label>Thumbnail</ion-label>
                                    <ion-input type="file" name="thumbnail" (change)="onFileChange($event,'thumbnail')">
                                    </ion-input>
                                </ion-item>
                            </ion-col>
                            <ion-col size="2" size-md="1">
                                <ion-thumbnail *ngIf="imageSrc.thumbnail">
                                    <img [src]="imageSrc.thumbnail" *ngIf="imageSrc.thumbnail">
                                </ion-thumbnail>
                            </ion-col>
                        </ion-row>

                        <ion-row>
                            <ion-col size="10" size-md="11">
                                <ion-item lines="full">
                                    <ion-label>Banner</ion-label>
                                    <ion-input type="file" name="banner" (change)="onFileChange($event, 'banner')">
                                    </ion-input>
                                </ion-item>
                            </ion-col>
                            <ion-col size="2" size-md="1">
                                <ion-thumbnail *ngIf="imageSrc.banner">
                                    <img [src]="imageSrc.banner" *ngIf="imageSrc.banner">
                                </ion-thumbnail>
                            </ion-col>
                        </ion-row>

                    </ion-card-content>
                </ion-card>
                <ion-card class="form-card" color="light">
                    <ion-card-header>
                        <ion-title color="dark">Actions</ion-title>
                    </ion-card-header>
                    <ion-card-content>

                        <ion-row>
                            <ion-col size="12" size-md="11">
                                    <ion-button color="secondary" [disabled]="categoryForm.invalid" (click)="saveCategory()">Save</ion-button>
                            </ion-col>
                        </ion-row>

                    </ion-card-content>
                </ion-card>
            </ion-col>
        </ion-row>
    </form>
</ion-grid>